{"version":3,"sources":["App.js","components/Navbar.js","components/Main.js","components/UploadFile.js","components/NotConnected.js","index.js"],"names":["ipfs","require","create","host","port","protocol","App","props","_this","Object","D_Abhishek_BlockChain_4_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","D_Abhishek_BlockChain_4_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","D_Abhishek_BlockChain_4_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","account","ourStorageDapp","postCount","allFiles","buffer","fileType","showFileDetails","loading","connected","uploadFile","bind","D_Abhishek_BlockChain_4_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","captureFile","deleteFile","loadWeb3","window","ethereum","web3","Web3","loadBlockchainData","setState","request","method","accounts","eth","defaultAccount","net","getId","networkId","ourStorageData","OurStorageDapp","networks","Contract","abi","address","loadMyAllFiles","methods","getTotalFileCount","totalFilesCount","i","getFileOf","file","fileName","concat","D_Abhishek_BlockChain_4_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_id","send","from","on","hash","console","log","receipt","_ref","D_Abhishek_BlockChain_4_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","D_Abhishek_BlockChain_4_Our_Storage_Dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee5","confirmationNumber","wrap","_context5","prev","next","_this2","stop","_x2","_x3","apply","arguments","error","event","preventDefault","target","files","reader","FileReader","readAsArrayBuffer","onloadend","_this3","Buffer","result","type","setValues","name","convertBytes","size","_name","_size","fileNameBox","document","getElementById","fileTypeBox","fileSizeBox","value","_des","add","then","_this4","path","_ref2","_callee9","_context9","_x9","_x10","catch","bytes","parseInt","Math","floor","round","pow","react__WEBPACK_IMPORTED_MODULE_9___default","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","className","Fragment","_components_Navbar__WEBPACK_IMPORTED_MODULE_17__","userProfile","role","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","exact","_components_Main__WEBPACK_IMPORTED_MODULE_18__","showDeletedFiles","_components_UploadFile__WEBPACK_IMPORTED_MODULE_19__","_components_NotConnected__WEBPACK_IMPORTED_MODULE_20__","Component","Navbar","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","width","style","borderRadius","height","alt","src","Identicon","toString","__webpack_require__","d","__webpack_exports__","Main","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","class","cellpadding","cellspacing","border","scope","map","key","fileDes","fileSize","UNIX_timestamp","Date","year","getFullYear","month","getMonth","date","getDate","hours","getHours","minutes","getMinutes","ampm","timeConverter","uploadTime","href","fileHash","rel","onClick","fileId","toNumber","confirm","UploadFile","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","history","useHistory","onChange","id","for","maxLength","placeholder","disabled","_fileDes","_fileName","push","NotConnected","r","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_3__","ReactDOM","render"],"mappings":"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","file":"static/js/main.9f1eff0a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  HashRouter\n} from \"react-router-dom\";\n\nimport Web3 from 'web3';\nimport OurStorageDapp from './abis/OurStorageDapp.json'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"bootstrap-icons/font/bootstrap-icons.css\"\n\nimport './components/App.css';\nimport Navbar from './components/Navbar'\nimport Main from './components/Main'\nimport UploadFile from './components/UploadFile'\nimport NotConnected from './components/NotConnected'\n\n\n\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient.create({ host: \"ipfs.infura.io\", port: 5001, protocol: \"https\" });\n\nclass App extends Component {\n\n\n  async componentWillMount() {\n    await this.loadWeb3()\n  }\n  async loadWeb3() {\n\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n\n      this.loadBlockchainData()\n    } else {\n      this.setState({ connected: false })\n    }\n\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(window.ethereum);\n\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    const account = accounts[0];\n    web3.eth.defaultAccount = accounts[0];\n    this.setState({ account: accounts[0] })\n\n    const networkId = await web3.eth.net.getId()\n    const ourStorageData = OurStorageDapp.networks[networkId]\n\n    if (ourStorageData) {\n      const ourStorageDapp = web3.eth.Contract(OurStorageDapp.abi, ourStorageData.address);\n      this.setState({ ourStorageDapp })\n      await this.loadMyAllFiles();\n      this.setState({ loading: false })\n\n    } else {\n      this.setState({ connected: false })\n    }\n  }\n\n  async loadMyAllFiles() {\n    this.setState({\n      allFiles: []\n    })\n    const totalFilesCount = await this.state.ourStorageDapp.methods.getTotalFileCount().call();\n\n    for (let i = totalFilesCount; i >= 1; i--) {\n      let file = await this.state.ourStorageDapp.methods.getFileOf(i).call();\n      if (file.fileName != \"0deleted_\") {\n        this.setState({\n          allFiles: [...this.state.allFiles, file]\n        })\n      }\n    }\n  }\n\n  async deleteFile(_id) {\n    this.setState({\n      loading: true\n    })\n    this.state.ourStorageDapp.methods.deleteFile(_id)\n      .send({ from: this.state.account })\n      .on('transactionHash', (hash) => {\n        console.log('transactionHash', hash);\n      })\n      .on('receipt', (receipt) => {\n      })\n      .on('confirmation', async (confirmationNumber, receipt) => {\n        await this.loadMyAllFiles();\n        this.setState({\n          loading: false\n        })\n      })\n      .on('error', (error, receipt) => {\n        console.log('error', error)\n        console.log('receipt', receipt)\n      });\n  }\n\n  async captureFile(event) {\n    event.preventDefault()\n    const file = event.target.files[0]\n    const reader = new window.FileReader()\n    reader.readAsArrayBuffer(file)\n    reader.onloadend = () => {\n      this.setState({\n        buffer: Buffer(reader.result),\n        fileType: file.type\n      })\n      this.setValues(file.name, this.convertBytes(file.size))\n    }\n  }\n  async setValues(_name, _size) {\n    const fileNameBox = document.getElementById('fileNameBox');\n    const fileTypeBox = document.getElementById('fileTypeBox');\n    const fileSizeBox = document.getElementById('fileSizeBox');\n\n    fileNameBox.value = _name;\n    fileTypeBox.value = this.state.fileType;\n    fileSizeBox.value = _size;\n    this.setState({ showFileDetails: true })\n  }\n\n  async uploadFile(_name, _des) {\n    this.setState({ loading: true });\n    // Add file to the IPFS\n    ipfs.add(this.state.buffer)\n      .then(result => {\n        this.state.ourStorageDapp.methods.uploadFile(result.path, result.size, this.state.fileType, _name, _des)\n          .send({ from: this.state.account })\n          .on('transactionHash', (hash) => {\n            console.log('transactionHash', hash);\n          })\n          .on('receipt', (receipt) => {\n          })\n          .on('confirmation', async (confirmationNumber, receipt) => {\n\n            await this.loadMyAllFiles();\n            this.setState({\n              loading: false,\n              buffer: '',\n              showFileDetails: false\n            })\n          })\n          .on('error', (error, receipt) => {\n            console.log('error', error)\n            console.log('receipt', receipt)\n          });\n      })\n      .catch(error =>\n        console.error(error)\n      )\n\n\n  }\n\n\n\n  convertBytes(bytes) {\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) return '0 Byte';\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n  }\n\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      account: '',\n      ourStorageDapp: null,\n      postCount: 0,\n      allFiles: [],\n      buffer: '',\n      fileType: '',\n      showFileDetails: false,\n      loading: true,\n      connected: true\n    }\n    this.uploadFile = this.uploadFile.bind(this)\n    this.captureFile = this.captureFile.bind(this)\n    this.deleteFile = this.deleteFile.bind(this)\n  }\n\n\n  render() {\n    return (\n      // <Router>\n\n      <HashRouter>\n        <div className=\"\" >\n          {this.state.connected\n            ?\n            <>\n              <Navbar account={this.state.account} userProfile={this.state.userProfile} />\n              {this.state.loading\n                ?\n                <div className=\"text-center m-5\" >\n                  <div className=\"spinner-border bg-light m-auto\" role=\"status\">\n                  </div>\n                </div>\n                :\n                <Switch>\n                  <Route path=\"/\" exact>\n                    <Main account={this.state.account} allFiles={this.state.allFiles} deleteFile={this.deleteFile} showDeletedFiles={this.state.showDeletedFiles} />\n                  </Route>\n\n                  <Route path=\"/uploadfiles\" exact>\n                    <UploadFile account={this.state.account} uploadFile={this.uploadFile} captureFile={this.captureFile} showFileDetails={this.state.showFileDetails} />\n                  </Route>\n\n                </Switch>\n              }\n            </>\n            :\n            <NotConnected />\n          }\n        </div>\n\n        {/* </Router> */}\n      </HashRouter>//for github pages\n\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\nimport Identicon from 'identicon.js';\r\n\r\nclass Navbar extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-transparent \">\r\n        <div className=\"container\">\r\n          <Link className=\"navbar-brand\" to=\"/\"><b>Our Decentralized Storage (ODS)</b></Link>\r\n\r\n          <div className=\"ms-auto d-flex align-items-center text-light\" >\r\n\r\n            <Link to='/uploadfiles' className=\"btn btn-outline-light mr-2\">\r\n              <i className=\"bi bi-plus-circle-dotted\" ></i>\r\n            </Link>\r\n              {this.props.account &&\r\n            <Link to=\"/\"  >\r\n                <img\r\n                  className='ml-2'\r\n                  width='30'\r\n                  style={{ borderRadius: 20 }}\r\n                  height='30'\r\n                  alt=\"logo\"\r\n                  src={`data:image/png;base64,${new Identicon(this.props.account, 30).toString()}`}\r\n                />\r\n            </Link>\r\n              }\r\n\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </nav>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nexport default function Main(props) {\r\n  const { allFiles, deleteFile } = props;\r\n\r\n  const convertBytes = (bytes) => {\r\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) return '0 Byte';\r\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\r\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\r\n  }\r\n\r\n  function timeConverter(UNIX_timestamp) {\r\n    var a = new Date(UNIX_timestamp * 1000);\r\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n    var year = a.getFullYear();\r\n    var month = months[a.getMonth()];\r\n    var date = a.getDate();\r\n    var hours = a.getHours();\r\n    var minutes = a.getMinutes();\r\n\r\n    var ampm = hours >= 12 ? 'pm' : 'am';\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12; // the hour '0' should be '12'\r\n    minutes = minutes < 10 ? '0' + minutes : minutes;\r\n\r\n    var time = date + ' ' + month + ' ' + year + ' ' + hours + ':' + minutes + ' ' + ampm;\r\n    return time;\r\n  }\r\n\r\n  function deleteFile0(_id) {\r\n    var _isDelete = window.confirm(\"Are you sure you want to delete this file?\");\r\n    if (_isDelete) {\r\n      deleteFile(_id);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container text-center  mt-3 mb-5\">\r\n      <Link to=\"uploadfiles\">\r\n        <button style={{ width: '30%' }} className=\"btn btn-lg btn-outline-warning mt-4 mb-2\">Upload Files Now!</button>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col bg-dark bg-gradient\" style={{ borderRadius: 40 }}>\r\n          <section className=\"m-5\">\r\n            <h1>All Files</h1>\r\n\r\n            <div class=\"tbl-header\" >\r\n              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{ width: '100%' }}>\r\n                <thead>\r\n                  <tr className=\"bg-dark text-white\">\r\n                    <th scope=\"col\" style={{ width: '20%' }}>name</th>\r\n                    <th scope=\"col\" style={{ width: '32%' }}>description</th>\r\n                    <th scope=\"col\" style={{ width: '8%' }}>type</th>\r\n                    <th scope=\"col\" style={{ width: '8%' }}>size</th>\r\n                    <th scope=\"col\" style={{ width: '12%' }}>date</th>\r\n                    <th scope=\"col\" style={{ width: '12%' }}>View File</th>\r\n                    <th scope=\"col\" style={{ width: '8%' }}>Delete</th>\r\n                  </tr>\r\n                </thead>\r\n              </table>\r\n            </div>\r\n            <div class=\"tbl-content\">\r\n              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{ width: '100%' }}>\r\n                <tbody>\r\n\r\n                  {allFiles &&\r\n                    allFiles.map((file, key) => {\r\n                      return (\r\n                        <tr>\r\n                          <td style={{ width: '20%' }}>{file.fileName}</td>\r\n                          <td style={{ width: '32%' }}>{file.fileDes}</td>\r\n                          <td style={{ width: '8%' }}>{file.fileType}</td>\r\n                          <td style={{ width: '8%' }}>{convertBytes(file.fileSize)}</td>\r\n                          <td style={{ width: '12%' }}>{timeConverter(file.uploadTime)}</td>\r\n                          <td style={{ width: '12%' }}><a href={\"https://ipfs.infura.io/ipfs/\" + file.fileHash} rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-primary\">View</a></td>\r\n                          <td style={{ width: '8%' }}>\r\n                            <button onClick={() => { deleteFile0(file.fileId.toNumber()) }} className=\"btn btn-outline-danger\"><i class=\"bi bi-trash\"></i></button>\r\n                          </td>\r\n                        </tr>\r\n                      )\r\n                    })}\r\n\r\n\r\n                </tbody>\r\n              </table>\r\n\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import React from 'react'\r\nimport {\r\n  useHistory,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nexport default function UploadFile(props) {\r\n  let history = useHistory();\r\n\r\n  const { captureFile, uploadFile, showFileDetails} = props;\r\n\r\n  const uploadFile0 = () => {\r\n    const _fileDes = document.getElementById('fileDesBox').value;\r\n    const _fileName = document.getElementById('fileNameBox').value;\r\n    uploadFile(_fileName, _fileDes)\r\n\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container text-center  mt-3 mb-5\">\r\n      <Link to=\"/\">\r\n        <button style={{ width: '30%' }} className=\"btn btn-lg btn-outline-dark mt-4 mb-2\">Check Uploaded Files</button>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col bg-dark bg-gradient\" style={{ borderRadius: 40 }}>\r\n          <div class=\"m-5\">\r\n            <h1 className=\"\">Upload Your File</h1>\r\n            <div class=\"m-5\" >\r\n              <input class=\"form-control\" onChange={captureFile} type=\"file\" id=\"formFile\" />\r\n            </div>\r\n\r\n            <div className={`mx-5 text-start text-light ${showFileDetails ? \"\" : \"d-none\"}`} id=\"fileDetailsBox\">\r\n              <h6 className=\"text-center text-warning\">File Details:-</h6>\r\n              <div class=\"col-12\">\r\n                <label for=\"fileNameBox\" class=\"form-label\">File Name</label>\r\n                <input type=\"text\" class=\"form-control\" maxLength=\"60\" id=\"fileNameBox\" placeholder=\"type file name here \" />\r\n              </div>\r\n              <div class=\"col-12 mt-2\">\r\n                <label for=\"fileDesBox\" class=\"form-label\">File Description</label>\r\n                <input type=\"text\" class=\"form-control\" maxLength=\"200\" id=\"fileDesBox\" placeholder=\"type file Description here \" />\r\n              </div>\r\n              <div className=\"row mx-2 mt-2\">\r\n                <div class=\"col-6\">\r\n                  <label for=\"fileTypeBox\" class=\"form-label\">File Type</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"fileTypeBox\" placeholder=\"file type\" disabled />\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <label for=\"fileSizeBox\" class=\"form-label\">File Size</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"fileSizeBox\" placeholder=\"file size\" disabled />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"mt-5 text-center\">\r\n                <button type=\"submit\" onClick={uploadFile0} class=\"btn btn-warning\">Upload File Now</button>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nexport default function NotConnected() {\r\n    return (\r\n        <div className=\"container text-center bg-light my-5\" style={{ borderRadius: 20 }}>\r\n            <h1 className=\"mt-3 text-primary\">Please Connect to Ropsten test network</h1>\r\n            <a href=\"https://faucet.ropsten.be/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-success\">Get free Ether for Ropsten test network</a>\r\n            <h4 className=\"my-3\">Follow these instructions for connect metamask with Ropsten test network</h4>\r\n            <hr />\r\n\r\n            <h6>1. Install  <a href=\"https://metamask.io/download.html\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-outline-primary\">Meta-mask</a></h6>\r\n            <h6>2. Create Your Account</h6>\r\n            <h6>3. Connect with Ropsten test network</h6>\r\n            <h6>4. Get Some Free Ether by Ropsten Faucet</h6>\r\n            <hr />\r\n            <img className=\"img-fluid h-50\" src=\"img/ropston.jpg\" alt=\"\" />\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}